<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sokobot â€” Sokoban Solver</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <h1>Sokobot</h1>
    <p class="subtitle">A* Sokoban Solver</p>

    <!-- Mode toggle -->
    <div class="mode-toggle">
      <button class="mode-btn active" id="mode-load">Load Puzzle</button>
      <button class="mode-btn" id="mode-create">Create Puzzle</button>
    </div>

    <!-- Load mode: Puzzle selector -->
    <div class="controls" id="load-controls">
      <label for="puzzle-select">Puzzle:</label>
      <select id="puzzle-select">
        <option value="">Loading...</option>
      </select>
      <button id="solve-btn" disabled>Solve</button>
    </div>

    <!-- Editor mode: Design controls -->
    <div id="editor-controls" class="editor-controls hidden">
      <div class="editor-size">
        <label>Width:</label>
        <input type="number" id="editor-width" min="4" max="16" value="7">
        <label>Height:</label>
        <input type="number" id="editor-height" min="4" max="16" value="7">
        <button id="new-grid-btn">New Grid</button>
      </div>
      <div class="tool-palette">
        <button class="tool-btn" data-tool="wall" title="Wall">&#x2B1B; Wall</button>
        <button class="tool-btn" data-tool="floor" title="Floor">&#x2B1C; Floor</button>
        <button class="tool-btn active" data-tool="goal" title="Goal">&middot; Goal</button>
        <button class="tool-btn" data-tool="box" title="Box">&#x1F4E6; Box</button>
        <button class="tool-btn" data-tool="player" title="Player">&#x1F464; Player</button>
        <button class="tool-btn" data-tool="eraser" title="Eraser">&#x1F6AB; Eraser</button>
      </div>
      <div id="editor-validation" class="editor-validation"></div>
      <button id="editor-solve-btn" disabled>Solve My Puzzle</button>
    </div>

    <!-- Status bar -->
    <div id="status" class="status hidden"></div>

    <!-- Game board -->
    <div id="board" class="board"></div>

    <!-- Playback controls (shown after solve) -->
    <div id="playback" class="playback hidden">
      <button id="reset-btn" title="Reset">&#x23EE;</button>
      <button id="step-back-btn" title="Step back">&#x23EA;</button>
      <button id="play-btn" title="Play / Pause">&#x25B6;</button>
      <button id="step-fwd-btn" title="Step forward">&#x23E9;</button>
      <button id="end-btn" title="Jump to end">&#x23ED;</button>
      <div class="speed-control">
        <label for="speed">Speed:</label>
        <input type="range" id="speed" min="1" max="20" value="5">
      </div>
      <span id="step-counter" class="step-counter"></span>
    </div>

    <!-- Legend -->
    <div class="legend">
      <span><span class="swatch wall"></span> Wall</span>
      <span><span class="swatch floor"></span> Floor</span>
      <span><span class="swatch goal"></span> Goal</span>
      <span><span class="swatch box"></span> Box</span>
      <span><span class="swatch box-on-goal"></span> Box on Goal</span>
      <span><span class="swatch player"></span> Player</span>
    </div>
  </div>

  <script src="/static/script.js"></script>
</body>
</html>
